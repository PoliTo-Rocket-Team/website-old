!function(){"use strict";const e=window.matchMedia("(prefers-color-scheme: dark)");function t(){}function n(e,n){const o=n.enter||t,i=n.leave||t,s=n.move||t,r=n.extra;let a,c;e.addEventListener("mouseenter",(function(){l=null,e.addEventListener("mousemove",d),e.addEventListener("mouseleave",h,{once:!0}),o(r)}));let l=null;function u(){const t=e.getBoundingClientRect();s(a-t.left-window.scrollX,c-t.top-window.scrollY,t,r),l=null}function d(e){a=e.pageX,c=e.pageY,null==l&&(l=requestAnimationFrame(u))}function h(){e.removeEventListener("mousemove",d),null!=l&&cancelAnimationFrame(l),i(r)}}!function(){const t=document.querySelectorAll('input[type="radio"][name="theme"]'),n=localStorage.getItem("theme");if(n){for(var o of(document.body.setAttribute("data-theme",n),t))if(o.value===n){o.checked=!0;break}}else document.body.setAttribute("data-theme","system");for(var o of t)o.addEventListener("change",i);function i(){document.body.setAttribute("data-theme",this.value),localStorage.setItem("theme",this.value);const t="system"===this.value?e.matches:"dark"===this.value;window.dispatchEvent(new CustomEvent("PRT:theme",{detail:{dark:t}}))}}(),function(e){const t=document.getElementById("page-nav"),n=t.querySelector("button"),o=document.getElementById("page-content");if(!t||!n||!o)return alert("No page-nav or page-content");const i="open-page-nav-state";history.state===i&&history.back(),window.addEventListener("popstate",(function(){if(!s)return;s=!1,t.classList.remove("open"),n.classList.remove("active"),o.classList.remove("unfocus"),o.removeEventListener("click",r),document.body.classList.remove("has-nav-open")})),n.addEventListener("click",(function(){history.state===i?history.back():(history.pushState(i,""),function(){if(s)return;s=!0,t.classList.add("open"),n.classList.add("active"),o.classList.add("unfocus"),o.addEventListener("click",r),document.body.classList.add("has-nav-open")}())}));let s=!1;function r(){history.state===i&&history.back()}window.addEventListener("scroll",function(e,t){let n=!1;return function(){n||(n=!0,setTimeout((()=>{t(),n=!1}),e))}}(100,(function(){let n=window.scrollY;if(t.classList.toggle("down",n>e),Math.abs(n-a)<10)return;t.classList.toggle("hide",n>a),a=n})));let a=window.scrollY;function c(){this.checked?document.body.addEventListener("click",l):document.body.removeEventListener("click",l)}function l(e){const t=document.querySelector(".link-combo > input:checked");t&&(t.parentElement.contains(e.target)||(document.querySelector(".link-combo > input").checked=!1,document.body.removeEventListener("click",l)))}document.querySelectorAll(".link-combo > input").forEach((e=>{e.checked=!1,e.addEventListener("change",c)}))}(80);class o{constructor(e=0,t=0){this.x=e,this.y=t}set(e,t){return this.x=e,this.y=t,this}eq(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}sub(e){return this.x-=e.x,this.y-=e.y,this}mul(e){return this.x*=e,this.y*=e,this}toString(){return`(${this.x}, ${this.y})`}static distance(e,t){return Math.hypot(e.x-t.x,e.y-t.y)}}function i(){}const s=document.querySelectorAll(".card"),r=new class{constructor(e,t=1){this.available=0,this.pool=[],this.creator=e,this.pool=new Array(t),this.available=(1<<t)-1;for(var n=0;n<t;n++)this.pool[n]=e()}get(){if(0===this.available){const e=this.creator();return this.pool.push(e),e}{const t=this.pool.length;let n;for(var e=0;e<t;e++)if(n=1<<e,this.available&n)return this.available-=n,this.pool[e]}}free(e){const t=this.pool.indexOf(e);if(-1===t)return;const n=1<<t;this.available&n?console.log("wtf"):this.available+=n}state(){return this.available.toString(2).padStart(this.pool.length)}}((()=>(console.log("spring created"),function(e,t=.01){const n=new o,s=new o,r=new o;let a;const c={move:i,end:i};return{aim:function(e,t){s.set(e,t),a||(performance.now(),a=requestAnimationFrame(l))},set:function(e,t){s.set(e,t),n.set(e,t),a&&(cancelAnimationFrame(a),a=null),c.end(e,t)},on:function(e,t){c[e]=t||i}};function l(i){r.eq(s).sub(n).mul(e),n.add(r),c.move(n.x,n.y),o.distance(s,n)<t?(a=null,c.end(s.x,s.y)):a=requestAnimationFrame(l)}}(.075,1e-4))));for(var a of s)n(a,{extra:{card:a,spring:null},enter:c,move:l,leave:u});function c(e){e.spring||(e.spring=r.get()),e.spring.on("end",null),e.spring.on("move",((t,n)=>{e.card.style.setProperty("--x",t.toFixed(4)),e.card.style.setProperty("--y",n.toFixed(4))}))}function l(e,t,n,o){o.spring.aim(2*e/n.width-1,2*t/n.height-1)}function u(e){e.spring.aim(0,0),e.spring.on("end",(()=>{e.spring.on("end",null),r.free(e.spring),e.spring=null}))}}();
